"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[671],{9932:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>c,frontMatter:()=>s,metadata:()=>i,toc:()=>l});var a=t(5250),r=t(1340);const s={sidebar_position:1},o="About Isograph",i={id:"intro",title:"About Isograph",description:"Select your components like you select your fields \u2014 with GraphQL!",source:"@site/docs/intro.md",sourceDirName:".",slug:"/intro",permalink:"/docs/intro",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",next:{title:"Quickstart guide",permalink:"/docs/quickstart"}},d={},l=[{value:"About Isograph: Fetching data and app structure",id:"about-isograph-fetching-data-and-app-structure",level:2},{value:"What is Isograph, and what are resolvers?",id:"what-is-isograph-and-what-are-resolvers",level:3},{value:"How does Isograph fetch data?",id:"how-does-isograph-fetch-data",level:3},{value:"How do components receive their data?",id:"how-do-components-receive-their-data",level:3},{value:"Big picture",id:"big-picture",level:3},{value:"About Isograph: <code>@exposeField</code>",id:"about-isograph-exposefield",level:2},{value:"Getting involved and learning more",id:"getting-involved-and-learning-more",level:2},{value:"Other, older resources",id:"other-older-resources",level:2},{value:"Licensing",id:"licensing",level:2}];function h(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"about-isograph",children:"About Isograph"}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Select your components like you select your fields \u2014 with GraphQL!"}),"\n"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Watch the ",(0,a.jsx)(n.a,{href:"https://www.youtube.com/watch?v=gO65JJRqjuc",children:"talk at GraphQL Conf"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Join the discord: ",(0,a.jsx)(n.a,{href:"https://discord.gg/Q2c5tM5T8A",children:"https://discord.gg/Q2c5tM5T8A"})," (#isograph channel on the GraphQL discord.)"]}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://twitter.com/isographlabs",children:"Follow the official twitter account"})}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"about-isograph-fetching-data-and-app-structure",children:"About Isograph: Fetching data and app structure"}),"\n",(0,a.jsx)(n.h3,{id:"what-is-isograph-and-what-are-resolvers",children:"What is Isograph, and what are resolvers?"}),"\n",(0,a.jsx)(n.p,{children:"Isograph is a framework for building React applications that are backed by GraphQL data. In Isograph, components that read data can be selected from the graph, and automatically have the data they require passed in. Consider this example avatar component:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"export const avatar_component = iso`\n  User.avatar_component @component {\n    name,\n    avatar_url,\n  }\n`(function Avatar({ data, ...otherRuntimeProps }) {\n  return <CircleImage image={data.avatar_url} />;\n});\n"})}),"\n",(0,a.jsx)(n.p,{children:"This avatar component is available on any GraphQL User. You might use this avatar component in another component, such as a button that navigates to a given user's profile."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"export const user_profile_button_component = iso`\n  User.user_profile_button_component @component {\n    # the avatar can be directly selected from the Graph!\n    avatar_component,\n\n    # you can also select server fields, like in regular GraphQL:\n    id,\n    name,\n  }\n`(function UserProfileButton({ data }) {\n  return (\n    <Button onClick={() => navigateToUserProfile(data.id)}>\n      {data.name}\n      {data.avatar_component({})}\n    </Button>\n  );\n});\n"})}),"\n",(0,a.jsxs)(n.p,{children:["These calls to ",(0,a.jsx)(n.code,{children:"iso"})," define resolvers, which are functions from graph data (such as the user's name) to an arbitrary value. With Isograph, it's resolvers all the way down \u2014 your entire app can be built in this way!"]}),"\n",(0,a.jsx)(n.h3,{id:"how-does-isograph-fetch-data",children:"How does Isograph fetch data?"}),"\n",(0,a.jsxs)(n.p,{children:["At the root of each page, you will define an entrypoint with ",(0,a.jsx)(n.code,{children:"isoFetch"}),". Isograph's compiler finds and processes all the entrypoints in your codebase, and will generate the appropriate GraphQL query."]}),"\n",(0,a.jsxs)(n.p,{children:["So, if the compiler encounters ",(0,a.jsx)(n.code,{children:"isoFetch`Query.user_list_page`;"}),", it would generate a query that would fetch all the server fields needed for the ",(0,a.jsx)(n.code,{children:"Query.user_list_page"})," resolver and all of the resolvers that it references. Then, when the user navigates to the user list page, that query would be executed."]}),"\n",(0,a.jsx)(n.p,{children:"For example, the data might be fetched during render as follows:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'const UserListPageQuery = require("@iso/Query/user_list_page.isograph");\n\nfunction UserListPageRoute() {\n  const queryVariables = {};\n  const { queryReference } = useLazyReference(\n    isoFetch`Query.user_list_page`,\n    queryVariables\n  );\n\n  const additionalProps = {};\n  return read(queryReference)(additionalProps);\n}\n'})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["Note that the call to ",(0,a.jsx)(n.code,{children:"read(queryReference)"})," will suspend if the required data is not present in the store, so make sure that either ",(0,a.jsx)(n.code,{children:"UserListPageRoute"})," is wrapped in a ",(0,a.jsx)(n.code,{children:"React.Suspense"})," boundary, or that the ",(0,a.jsx)(n.code,{children:"queryReference"})," is only read in a child component that is wrapped in a suspense boundary."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["Now, when ",(0,a.jsx)(n.code,{children:"UserListPageRoute"})," is initially rendered, Isograph will make an API call."]}),"\n",(0,a.jsx)(n.h3,{id:"how-do-components-receive-their-data",children:"How do components receive their data?"}),"\n",(0,a.jsxs)(n.p,{children:["You may have noticed that when we called ",(0,a.jsx)(n.code,{children:"data.avatar_component({})"}),", we did not pass the data that the avatar needs! Instead, when the component is rendered, Isograph will ",(0,a.jsx)(n.code,{children:"read"})," the data that the avatar component needs, and pass it to ",(0,a.jsx)(n.code,{children:"Avatar"}),". The calling component:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["only passes additional props that don't affect the query data, like ",(0,a.jsx)(n.code,{children:"onClick"}),", and"]}),"\n",(0,a.jsxs)(n.li,{children:["does ",(0,a.jsx)(n.strong,{children:"not"})," know what data ",(0,a.jsx)(n.code,{children:"Avatar"})," expects, and never sees the data that ",(0,a.jsx)(n.code,{children:"Avatar"})," reads out. This is called ",(0,a.jsx)(n.strong,{children:"data masking"}),", and it's a crucial reason that teams of multiple developers can move quickly when building apps with Isograph: because no component sees the data that another component selected, changing one component cannot affect another!"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"big-picture",children:"Big picture"}),"\n",(0,a.jsxs)(n.p,{children:["At the root of a page, you will define an ",(0,a.jsx)(n.code,{children:"isoFetch"})," entrypoint. For any such entrypoint, Isograph will:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Recursively walk it's dependencies and create a single GraphQL query that fetches ",(0,a.jsx)(n.strong,{children:"all"})," of the data reachable from this literal."]}),"\n",(0,a.jsx)(n.li,{children:"When that page renders, or possibly sooner, Isograph will make the API call to fetch that data."}),"\n",(0,a.jsx)(n.li,{children:"Each resolver will independently read the data that it specifically required."}),"\n"]}),"\n",(0,a.jsxs)(n.h2,{id:"about-isograph-exposefield",children:["About Isograph: ",(0,a.jsx)(n.code,{children:"@exposeField"})]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["Currently, ",(0,a.jsx)(n.code,{children:"@exposeField"})," is only processed if it is on the Mutation type. But, it will be made more generally available at some point."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["Types with the ",(0,a.jsx)(n.code,{children:"@exposeField(field: String!, path: String!, field_map: [FieldMap!]!)"})," directive have their fields re-exposed on other objects. For example, consider this schema:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-graphql",children:'input SetUserNameParams {\n  id: ID!\n  some_other_param: String!\n}\n\ntype SetUserNameResponse {\n  updated_foo: User!\n}\n\ntype Mutation\n  @exposeField(\n    field: "set_user_name" # expose this field\n    path: "updated_foo" # on the type at this path (relative to the response object)\n    field_map: [{ from: "id", to: "id" }] # mapping these fields\n  ) {\n  set_user_name(input: SetUserNameParams!): SetUserNameResponse!\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["In the above example, the ",(0,a.jsx)(n.code,{children:"set_foo"})," field will be made available on every ",(0,a.jsx)(n.code,{children:"User"})," object, under the key ",(0,a.jsx)(n.code,{children:"__set_user_name"})," (this will be customizable.) So, one could write a resolver:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'export const update_user_name_button_component = iso`\n  User.update_user_name_button_component {\n    __set_foo,\n  }\n`(({ data: { __set_user_name } }) => {\n  return (\n    <div onClick={() => __set_user_name({ input: { new_name: "Superman" } })}>\n      Name me Superman\n    </div>\n  );\n});\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Clicking that button executes a mutation. The ",(0,a.jsx)(n.code,{children:"id"})," field is automatically passed in (i.e. it comes from whatever ",(0,a.jsx)(n.code,{children:"User"})," object where this field was selected.)"]}),"\n",(0,a.jsxs)(n.p,{children:["The fields that are refetched as part of the mutation response are whatever fields are selected on that user in the ",(0,a.jsx)(n.em,{children:"merged"})," query! So, if on that same ",(0,a.jsx)(n.code,{children:"User"}),", we also (potentially through another resolver) selected the ",(0,a.jsx)(n.code,{children:"name"})," field, the mutation response would include ",(0,a.jsx)(n.code,{children:"name"}),"! If, later, we selected ",(0,a.jsx)(n.code,{children:"email"}),", it would also be fetched."]}),"\n",(0,a.jsx)(n.h2,{id:"getting-involved-and-learning-more",children:"Getting involved and learning more"}),"\n",(0,a.jsx)(n.p,{children:"There's a lot more. These docs are threadbare."}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["See the sample apps in ",(0,a.jsx)(n.a,{href:"https://github.com/isographlabs/isograph/tree/main/demos",children:(0,a.jsx)(n.code,{children:"./demos"})}),". The ",(0,a.jsx)(n.a,{href:"https://github.com/isographlabs/isograph/tree/main/demos/graphql-conf-2023-demo/",children:"GraphQL conf demo"})," is more full-featured."]}),"\n",(0,a.jsxs)(n.li,{children:["Watch the ",(0,a.jsx)(n.a,{href:"https://www.youtube.com/watch?v=gO65JJRqjuc",children:"talk at GraphQL Conf"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Join the discord: ",(0,a.jsx)(n.a,{href:"https://discord.gg/Q2c5tM5T8A",children:"https://discord.gg/Q2c5tM5T8A"})," (#isograph channel on the GraphQL discord.)"]}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://twitter.com/isographlabs",children:"Follow the official twitter account"})}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"other-older-resources",children:"Other, older resources"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["See ",(0,a.jsx)(n.a,{href:"https://www.youtube.com/watch?v=f1nfXc3VeTk",children:"the developer experience of using Isograph"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Read ",(0,a.jsx)(n.a,{href:"https://isograph.substack.com/p/introducing-isograph",children:"the substack article"}),"."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"licensing",children:"Licensing"}),"\n",(0,a.jsx)(n.p,{children:"Isograph is an open source software project and licensed under the terms of the MIT license."})]})}function c(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},1340:(e,n,t)=>{t.d(n,{Z:()=>i,a:()=>o});var a=t(79);const r={},s=a.createContext(r);function o(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);